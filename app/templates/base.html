<!DOCTYPE html>
<html>
    <head>
        <title>{{ title }} </title>
        <link rel= "stylesheet" type= "text/css" href= "{{url_for('static', filename = 'style/common.css')}}">
        <link rel= "stylesheet" type= "text/css" href= "{{url_for('static', filename = 'style/polls-home.css')}}"> 
        <link rel= "stylesheet" type= "text/css" href= "{{url_for('static', filename = 'style/error.css')}}">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    </head>
    <body>
    <header>
        <nav>
        <ul>
            <!-- image source: https://www.flaticon.com/free-icon/voting_1598627#term=poll&page=1&position=8 -->
            <li><a href="{{ url_for('index') }}"><img src="../static/images/icon.png" id = "logo" alt="Company icon, a heart with a tick box inside it"/></a></li> 
            <li><a href="{{ url_for('index') }}"> Home </a> </li>
            <li><a href="../pages/about.html">About </a></li>
            <li><a href="../pages/contact.html"> Contact </a></li>
            <li><a href="{{url_for('register')}}"> Join </a></li> 
        </ul>
        <ul>
            <!--image source: https://www.flaticon.com/free-icon/plus_143510 -->
            <li><a href= "{{url_for('create_poll')}}"> <img src="../static/images/plus-32.png" id="create-poll" alt="plus button, create a poll"/></a></li>
            <!-- image source: https://www.flaticon.com/packs/avatar-set-->
            {% if current_user.is_authenticated %}
                <li><a href="{{ url_for('user', username = current_user.username) }}"><img src="{{current_user.avatar(32)}}" class="nav-right"  alt="user avatar, click to login or view profile"/></a></li>
                <li><a href = "{{ url_for('logout')}}">Logout</a></li>
            {% else %}
            <li><a href="{{ url_for('login') }}"><img src="../static/images/user-32.png" class="nav-right"  alt="user avatar, click to login or view profile"/></a></li>
            <li><a href = "{{ url_for('login')}}">Login</a></li>
            {% endif %}
        </ul>
        </nav>
    </header> 
        {% with messages = get_flashed_messages(with_categories = true) %}
            {% if messages %}
                {% for category, message in messages %}
                    {% if category == "info" %}
                        <span class = "alert-box notice banner">{{ message }} </span>
                    {% elif category == "warning"%}
                        <span class = "alert-box warning banner">{{ message }} </span>
                    {% else %}
                        <span class = "alert-box error banner">{{  message }} </span>
                    {% endif %}
                {% endfor %}
            {% endif %}
        {% endwith %}
        <div id = "content">
            {% block content %}
            {% endblock %}
        </div>
    </body>
</html>